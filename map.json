{
  "start": {
    "description": "You find yourself in a dark empty crypt. There is an eerie feel to this place.",
    "directions": {
      "east": "dragonCell"
    },
    "objects": [
      {
        "candle": {
          "take": false,
          "description": "The only light source is a small candle burning in the corner.",
          "message": "It's almost out, and is stuck fast to the ground."
        }
      },
      {
        "bone": {
          "take": true,
          "description": "You see a pile of bones in front of you and a door towards the east.",
          "message": "You now have a bone."
        }
      }
    ]
  },
  "dragonCell": {
    "description": "You see a staircase leading into the darkness in the north and a steel gate to the south.",
    "directions": {
      "west": "start",
      "north": "dungeon",
      "south": "weaponsRoom"
    },
    "objects": [
      {
        "dragon": {
          "take": false,
          "message": "You cannot be serious.",
	  "description": "There is a giant dragon that lay sleeping in front of it. It seems to be guarding a passage way headed east."
        }
      },
      {
        "gate": {
          "take": false,
          "message": "You can't take the gate.",
	  "openObject": {
		"canOpen": true,
		"forOpen": ["key"],
		"onOpen": {
			"directionAdd": {
				"south": "weaponsRoom"
				},
			"message" : "The gate opens, you see daylight coming through from behind it."
			  },
		"alreadyOpen": {
			"opened": false,
			"message": "The gate is already open."
			}
	  }
        }
      }
    ],
    "fighters": [
      {
	"dragon": {
	  "killable": true,
	  "altDescription": "You see the giant dragon you had slain with it's entrails strewn across the stone floor. There is a passage that leads you east.",
	  "mustUse": [
		"sword",
		"spear",
		"staff"
	  ],
	  "onKill": {
		"directionAdd": {
			"south": "portcullis"
		},
		"message": "The passage way leading to the east opens up."
		},
	  "alreadyKilled": {
		"killed": false,
		"message": "The dragon is already dead."
		}
	}
      }
    ]
  },
  "portcullis": {
    "description": "A portcullis is drawn up. You are standing just outside a sprawling castle with dark walls.",
    "directions": {
      "west": "dragonCell",
      "east": "end"
    }
  },
  "dungeon": {
    "description": "You enter a small dungeon where you see ancient runes scrawled across the walls.",
    "directions": {
      "south": "dragonCell"
    },
    "objects": [
      {
        "chest": {
          "take": false,
          "description": "You see a chest on the floor.",
          "message": "The chest is too heavy to lift.",
	  "openObject": {
                "canOpen": true,
                "forOpen": [],
                "onOpen": {
                        "objectAdd": {
                                "key": {
					"take": true,
					"description": "A single key lies inside the chest on a velvet cloth.",
					"message": "You have a key. But you do not know what it opens."
				       }
                                     },
                        "message": "You open the chest and find a key inside."
                          },
		"alreadyOpen": {
			"opened": false,
			"message": "The chest is already open."
			}
          }
        }
      }
    ]
  },
  "weaponsRoom": {
    "description": "You enter a room full of weapons. You see swords, knives, spears, staffs, and hammers displayed all around you. Large windows illuminate the room with the daylight outside.",
    "directions": {
      "north": "dragonCell"
    },
    "prerequisites": [
      {
        "key": {
          "problem": "The gate is locked.",
          "solution": "You unlock the gate and enter."
        }
      }
    ],
    "objects": [
      {
        "sword": {
          "take": true,
          "message": "Good choice. You now have a sword."
        }
      },
      {
        "spear": {
          "take": true,
          "message": "Great choice! You now have a spear."
        }
      },
      {
        "knife": {
          "take": true,
          "message": "You now have a knife."
        }
      },
      {
        "hammer": {
          "take": true,
          "message": "You now have a hammer."
        }
      },
      {
        "staff": {
          "take": true,
          "message": "Excellent choice. You now have a staff."
        }
      }
    ]
  }
}
